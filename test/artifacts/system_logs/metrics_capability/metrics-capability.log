2022-10-10T04:25:35.778128Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/b37b506789fdbf10511fbef3f9ab1df026215dec ci_number=20221006.2 ci_name=CommonRuntime-prod-build build_time=2022-10-07 01:22:52.364332
2022-10-10T04:25:35.778503Z  INFO metrics-capability::do_main: metrics_capability: metrics cap config cap_config=MetricsCapConfig { polling_interval_sec: 15, send_to_history_interval_sec: 60, enabled_resource_metrics: ["CpuUtilizationPercentage", "GpuUtilizationPercentage", "GpuEnergyJoules", "GpuMemoryUtilizationPercentage", "GpuMemoryUtilizationMegabytes", "GpuMemoryCapacityMegabytes", "CpuMemoryUtilizationPercentage", "CpuMemoryUtilizationMegabytes", "CpuMemoryCapacityMegabytes", "DiskReadMegabytes", "DiskWriteMegabytes", "NetworkInputMegabytes", "NetworkOutputMegabytes", "IBReceiveMegabytes", "IBTransmitMegabytes", "DiskUsedMegabytes", "DiskAvailMegabytes"], reserved_disk_space_bytes: 2503001579, additional_scrape_jobs: [] }
2022-10-10T04:25:35.780371Z  INFO metrics-capability::do_main: metrics_capability: run token file created
2022-10-10T04:25:35.780593Z  INFO metrics-capability::do_main: metrics_capability: embedded file file="prometheus-template.yml"
2022-10-10T04:25:35.781163Z  INFO metrics-capability::do_main: metrics_capability: prometheus config file created
2022-10-10T04:25:35.784546Z  INFO metrics-capability::do_main: metrics_capability::additional_scrape_jobs_configer: No additional scrape jobs configured.
2022-10-10T04:25:35.784650Z  INFO metrics_capability: starting prometheus subprocess watcher task
2022-10-10T04:25:35.784684Z  INFO metrics_capability: starting prometheus subprocess: prometheus ["--storage.tsdb.retention.time=30m", "--log.level=info", "--enable-feature=expand-external-labels", "--config.file=/usr/local/bin/prometheus.yml", "--web.listen-address=0.0.0.0:9090"] retry_count=1
2022-10-10T04:25:35.785047Z  INFO metrics_capability: starting cadvisor subprocess watcher task
2022-10-10T04:25:35.785072Z  INFO metrics_capability: starting cadvisor subprocess: cadvisor ["--stderrthreshold=0", "--raw_cgroup_prefix_whitelist=/system.slice/containerd.service", "--listen_ip=0.0.0.0", "--port=8081"] retry_count=1
2022-10-10T04:25:35.785780Z  INFO metrics-capability::do_main: metrics_capability: No GPUs found, skipping nvidia-smi instant exporter
2022-10-10T04:25:35.789638Z  INFO metrics-capability::do_main: metrics_capability: metrics capability starting service address=/mnt/azureml/cr/j/84b310b237b5449daf8ffd8fd9d61871/.grpc/metrics-capability:0
2022-10-10T04:25:35.790251Z  INFO metrics-capability::do_main:metrics-capability::run_service{address="/mnt/azureml/cr/j/84b310b237b5449daf8ffd8fd9d61871/.grpc/metrics-capability:0" handles=[JoinHandle { id: Id(7) }, JoinHandle { id: Id(8) }, JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }]}: metrics_capability::service: metrics capability starting service address=/mnt/azureml/cr/j/84b310b237b5449daf8ffd8fd9d61871/.grpc/metrics-capability:0
2022-10-10T04:25:35.790420Z  INFO metrics-capability::do_main:metrics-capability::run_service{address="/mnt/azureml/cr/j/84b310b237b5449daf8ffd8fd9d61871/.grpc/metrics-capability:0" handles=[JoinHandle { id: Id(7) }, JoinHandle { id: Id(8) }, JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }]}:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds("/mnt/azureml/cr/j/84b310b237b5449daf8ffd8fd9d61871/.grpc/metrics-capability:0") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }
2022-10-10T04:25:35.792525Z  INFO metrics_capability: started prometheus subprocess
2022-10-10T04:25:35.792565Z  INFO metrics_capability: starting node-exporter subprocess watcher task
2022-10-10T04:25:35.792586Z  INFO metrics_capability: starting node-exporter subprocess: node_exporter ["--collector.disable-defaults", "--collector.infiniband", "--collector.diskstats", "--log.level=info", "--web.listen-address=0.0.0.0:9100"] retry_count=1
2022-10-10T04:25:35.793011Z  INFO metrics_capability: started cadvisor subprocess
2022-10-10T04:25:35.793049Z  INFO metrics_capability: heartbeat: starting
2022-10-10T04:25:35.795234Z  INFO metrics_capability: started node-exporter subprocess
2022-10-10T04:25:35.795294Z  INFO metrics_capability: starting run token updater task
2022-10-10T04:25:35.795432Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint="https://eastus.api.azureml.ms" run_id=RunId { subscription_id: "5da07161-3770-4a4b-aa43-418cbbb627cf", resource_group_name: "aml-workspace-rg", workspace_name: "aml-workspace", experiment_name: "Training_and_eval_pipeline", run_id: "000d6ec3-533a-4ed7-8644-667da5d7a8d8" }}: vienna_client::run_history: Calling service service_endpoint="https://eastus.api.azureml.ms"
2022-10-10T04:25:35.932827Z  INFO metrics_capability: starting disk full checker on /mnt/root_dir, reserved_disk_space_bytes: 2503001579
2022-10-10T04:25:35.944995Z  INFO metrics_capability: heartbeat: node_disk_available_bytes = 92906635264 metric_name=node_disk_available_bytes value=92906635264 statfs=Statfs { optimal_transfer_size: 4096, block_size: 4096, blocks: 25671406, blocks_free: 23997074, blocks_available: 22682284, files: 6553600, files_free: 6400755, filesystem_id: fsid_t { __val: [-1281103153, -1351137270] } }
2022-10-10T04:25:35.946815Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:182 level=info msg="Starting node_exporter" version="(version=1.3.1, branch=HEAD, revision=a2321e7b940ddcff26873612bccdf7cd4c42b6b6)"
2022-10-10T04:25:35.947245Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:183 level=info msg="Build context" build_context="(go=go1.17.3, user=root@243aafa5525c, date=20211205-11:09:49)"
2022-10-10T04:25:35.947388Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:185 level=warn msg="Node Exporter is running as root user. This exporter is designed to run as unpriviledged user, root is not required."
2022-10-10T04:25:35.947512Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:108 level=info msg="Enabled collectors"
2022-10-10T04:25:35.947655Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:115 level=info collector=diskstats
2022-10-10T04:25:35.947779Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:115 level=info collector=infiniband
2022-10-10T04:25:35.948031Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=node_exporter.go:199 level=info msg="Listening on" address=0.0.0.0:9100
2022-10-10T04:25:35.948168Z  INFO metrics_capability: [node-exporter] ts=2022-10-10T04:25:35.946Z caller=tls_config.go:195 level=info msg="TLS is disabled." http2=false
2022-10-10T04:25:36.124115Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint="https://eastus.api.azureml.ms" run_id=RunId { subscription_id: "5da07161-3770-4a4b-aa43-418cbbb627cf", resource_group_name: "aml-workspace-rg", workspace_name: "aml-workspace", experiment_name: "Training_and_eval_pipeline", run_id: "000d6ec3-533a-4ed7-8644-667da5d7a8d8" }}: vienna_client::run_history: close time.busy=155ms time.idle=173ms
2022-10-10T04:25:36.124156Z  INFO metrics_capability: run token refreshed, expiration 2022-10-11 04:25:36.076603100 +00:00
2022-10-10T04:25:36.124294Z  INFO metrics_capability: run token written to file
2022-10-10T04:25:36.153047Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.152Z caller=main.go:180 level=info msg="Experimental expand-external-labels enabled"
2022-10-10T04:25:36.155829Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.155Z caller=main.go:515 level=info msg="Starting Prometheus" version="(version=2.32.1, branch=HEAD, revision=41f1a8125e664985dd30674e5bdf6b683eff5d32)"
2022-10-10T04:25:36.156186Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.156Z caller=main.go:520 level=info build_context="(go=go1.17.5, user=root@54b6dbd48b97, date=20211217-22:08:06)"
2022-10-10T04:25:36.156293Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.156Z caller=main.go:521 level=info host_details="(Linux 5.0.0-1036-azure #38-Ubuntu SMP Sun Mar 22 21:27:21 UTC 2020 x86_64 5679f81642da413dba3b2732379fff5f000000 (none))"
2022-10-10T04:25:36.156374Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.156Z caller=main.go:522 level=info fd_limits="(soft=262144, hard=262144)"
2022-10-10T04:25:36.156450Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.156Z caller=main.go:523 level=info vm_limits="(soft=unlimited, hard=unlimited)"
2022-10-10T04:25:36.163443Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.163Z caller=web.go:570 level=info component=web msg="Start listening for connections" address=0.0.0.0:9090
2022-10-10T04:25:36.167325Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.166Z caller=main.go:924 level=info msg="Starting TSDB ..."
2022-10-10T04:25:36.171851Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.171Z caller=head.go:488 level=info component=tsdb msg="Replaying on-disk memory mappable chunks if any"
2022-10-10T04:25:36.171949Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.171Z caller=head.go:522 level=info component=tsdb msg="On-disk memory mappable chunks replay completed" duration=2.3µs
2022-10-10T04:25:36.172167Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.171Z caller=head.go:528 level=info component=tsdb msg="Replaying WAL, this may take a while"
2022-10-10T04:25:36.173742Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.173Z caller=tls_config.go:195 level=info component=web msg="TLS is disabled." http2=false
2022-10-10T04:25:36.176041Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.175Z caller=head.go:599 level=info component=tsdb msg="WAL segment loaded" segment=0 maxSegment=0
2022-10-10T04:25:36.176134Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.176Z caller=head.go:605 level=info component=tsdb msg="WAL replay completed" checkpoint_replay_duration=59.103µs wal_replay_duration=3.751975ms total_replay_duration=4.181395ms
2022-10-10T04:25:36.177187Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.177Z caller=main.go:945 level=info fs_type=794c7630
2022-10-10T04:25:36.177269Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.177Z caller=main.go:948 level=info msg="TSDB started"
2022-10-10T04:25:36.177531Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.177Z caller=main.go:1129 level=info msg="Loading configuration file" filename=/usr/local/bin/prometheus.yml
2022-10-10T04:25:36.178707Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.178Z caller=dedupe.go:112 component=remote level=info remote_name=dd416b url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/5da07161-3770-4a4b-aa43-418cbbb627cf/resourceGroups/aml-workspace-rg/providers/Microsoft.MachineLearningServices/workspaces/aml-workspace/api/2.0/prometheus/post msg="Starting WAL watcher" queue=dd416b
2022-10-10T04:25:36.180391Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.180Z caller=dedupe.go:112 component=remote level=info remote_name=dd416b url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/5da07161-3770-4a4b-aa43-418cbbb627cf/resourceGroups/aml-workspace-rg/providers/Microsoft.MachineLearningServices/workspaces/aml-workspace/api/2.0/prometheus/post msg="Starting scraped metadata watcher"
2022-10-10T04:25:36.180741Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.180Z caller=dedupe.go:112 component=remote level=info remote_name=dd416b url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/5da07161-3770-4a4b-aa43-418cbbb627cf/resourceGroups/aml-workspace-rg/providers/Microsoft.MachineLearningServices/workspaces/aml-workspace/api/2.0/prometheus/post msg="Replaying WAL" queue=dd416b
2022-10-10T04:25:36.193432Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.193Z caller=main.go:1166 level=info msg="Completed loading of configuration file" filename=/usr/local/bin/prometheus.yml totalDuration=15.850738ms db_storage=1µs remote_storage=2.386311ms web_handler=800ns query_engine=1.3µs scrape=7.749861ms scrape_sd=85.704µs notify=1.1µs notify_sd=2.801µs rules=4.921629ms
2022-10-10T04:25:36.194760Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:36.194Z caller=main.go:897 level=info msg="Server is ready to receive web requests."
2022-10-10T04:25:39.202241Z  INFO metrics-capability::start: metrics_capability::capability_service: metrics capability lifecycle hook start called
2022-10-10T04:25:39.202299Z  INFO metrics-capability::start: metrics_capability::capability_service: close time.busy=58.7µs time.idle=21.0µs
2022-10-10T04:25:44.161278Z  INFO metrics_capability: [prometheus] ts=2022-10-10T04:25:44.161Z caller=dedupe.go:112 component=remote level=info remote_name=dd416b url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/5da07161-3770-4a4b-aa43-418cbbb627cf/resourceGroups/aml-workspace-rg/providers/Microsoft.MachineLearningServices/workspaces/aml-workspace/api/2.0/prometheus/post msg="Done replaying WAL" duration=7.980690597s
2022-10-10T04:25:47.541690Z  INFO metrics-capability::end: metrics_capability::capability_service: metrics capability lifecycle hook end called
2022-10-10T04:25:47.541743Z  INFO metrics-capability::end: metrics_capability::capability_service: close time.busy=53.8µs time.idle=8.50µs
